name: 'Mirror main branch'

on:
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  mirror:
    if: github.repository != 'WingRiders/wallet' # Prevent execution in the public repo
    uses: WingRiders/wallet-private/.github/workflows/mirror.yml@main
    with:
      branch: main
    secrets:
      TECHRIDER_SSH_PUBLIC_KEY: ${{ secrets.TECHRIDER_SSH_PUBLIC_KEY }}
      TECHRIDER_SSH_PRIVATE_KEY: ${{ secrets.TECHRIDER_SSH_PRIVATE_KEY }}